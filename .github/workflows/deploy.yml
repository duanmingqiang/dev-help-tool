# # ä¸€ä¸ªworkflow,åä¸ºdeploy to github
# name: deploy to github

# on: # æ­¤CI/IDè§¦å‘æ—¶çš„äº‹ä»¶
#   push: #åœ¨ä»£ç æäº¤æ—¶è‡ªåŠ¨è§¦å‘
#     branches:
#       - temp-dev

# # ä¸€ä¸ª CI/CD çš„å·¥ä½œæµæœ‰è®¸å¤š jobs ç»„æˆï¼Œæ¯”å¦‚æœ€å…¸å‹çš„ job æ˜¯ lintï¼Œtestï¼Œbuildã€‚
# jobs:
#   build: # æ„å»ºjob
#     runs-on: ubuntu-latest # è·‘workflowçš„æœåŠ¡å™¨ç³»ç»Ÿ
#     steps: # jobçš„ä¸€ç³»åˆ—åŠ¨ä½œ
#     # åˆ‡æ¢åˆ†æ”¯è·å–æºç 
#     - name: Checkout # stepçš„åç§°ï¼Œå°†ä¼šåœ¨ github action çš„æ§åˆ¶å°ä¸­æ˜¾ç¤º
#       # é€‰æ‹©ä¸€ä¸ªactionï¼Œå¯ä»¥ç†è§£ä¸ºè‹¥å¹² steps.runï¼Œæœ‰åˆ©äºä»£ç å¤ç”¨
#       uses: actions/checkout@v3
#     # å®‰è£…ä½¿ç”¨ node:10
#     - name: use Node.js 10
#       uses: actions/setup-node@v3
#       with:
#         node-version: 14
#     # è¿è¡Œå‘½ä»¤ï¼Œnpm install && npm run build
#     - name: npm install and build
#         run: |
#           npm install
#           npm run build
#         env:
#           CI: true
#     # éƒ¨ç½²åˆ°è…¾è®¯äº‘æœåŠ¡å™¨
#     - name: Deploy to Server
#         uses: JamesIves/github-pages-deploy-action@v4.2.2
#         with:
#           # å­˜å‚¨åº“ä¸­è¦éƒ¨ç½²çš„æ–‡ä»¶å¤¹ã€‚
#           # è¯¥æ­¥éª¤ä¼šå°†é¡¹ç›®ä¸­ FOLDER æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶æ¨é€åˆ° BRANCH åˆ†æ”¯ï¼Œä½œä¸ºGithub Pages éƒ¨ç½²çš„å†…å®¹ã€‚
#           branch: gh-pages # The branch the action should deploy to.
#           folder: dist # The folder the action should deploy.



name: Build and Deploy
on: # æ­¤CI/IDè§¦å‘æ—¶çš„äº‹ä»¶
  push: #åœ¨ä»£ç æäº¤æ—¶è‡ªåŠ¨è§¦å‘
    branches:
      - temp-dev
# permissions:
#   contents: write
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v3

      - name: Install and Build ğŸ”§
        run: |
          npm install
          npm run-script build

      - name: Deploy ğŸš€
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          folder: build # The folder the action should deploy.